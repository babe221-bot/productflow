"use strict";(self.webpackChunkproducflow_frontend=self.webpackChunkproducflow_frontend||[]).push([[184],{9184:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(5043),a=n(6446),s=n(5865),i=n(611),c=n(7392),l=n(4669),o=n(1675),d=n(4194),h=n(5795),x=n(2143),u=n(8903),A=n(2110),j=n(6494),y=n(3845),m=n(2518),p=n(141),g=n(8606),b=n(7548),v=n(5456),f=n(7805),w=n(4642),C=n(6213),_=n(579);const S=()=>{const[e,t]=(0,r.useState)([]),[n,S]=(0,r.useState)([]),[D,B]=(0,r.useState)(!0),[L,M]=(0,r.useState)(""),[k,I]=(0,r.useState)(""),[N,P]=(0,r.useState)(0);(0,r.useEffect)(()=>{U()},[k]);const U=async()=>{try{B(!0);const e=k?{priority:k}:{},[n,r]=await Promise.all([C.A.get("/maintenance",{params:e}),C.A.get("/maintenance/logs")]);t(n.data),S(r.data),M("")}catch(L){console.error("Failed to fetch maintenance data:",L),M("Failed to load maintenance data")}finally{B(!1)}},z=e=>{switch(e){case"critical":return"error";case"high":return"warning";case"medium":return"info";case"low":return"success";default:return"default"}},F=e=>{switch(e){case"critical":return(0,_.jsx)(b.A,{});case"high":return(0,_.jsx)(w.A,{});case"medium":return(0,_.jsx)(v.A,{});case"low":return(0,_.jsx)(g.A,{});default:return null}},W=e=>{switch(e){case"completed":return"success";case"in_progress":return"warning";case"scheduled":return"info";default:return"default"}};return D?(0,_.jsxs)(a.A,{children:[(0,_.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:"Maintenance Management"}),(0,_.jsx)(i.A,{})]}):(0,_.jsxs)(a.A,{children:[(0,_.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,_.jsx)(s.A,{variant:"h4",children:"Maintenance Management"}),(0,_.jsx)(c.A,{onClick:U,color:"primary",children:(0,_.jsx)(f.A,{})})]}),(0,_.jsx)(a.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,_.jsxs)(l.A,{value:N,onChange:(e,t)=>P(t),children:[(0,_.jsx)(o.A,{label:"Active Alerts"}),(0,_.jsx)(o.A,{label:"Maintenance Logs"})]})}),L&&(0,_.jsx)(d.A,{severity:"error",sx:{mb:3},children:L}),0===N&&(0,_.jsxs)(a.A,{children:[(0,_.jsx)(a.A,{display:"flex",gap:2,mb:3,children:(0,_.jsxs)(h.A,{select:!0,label:"Filter by Priority",value:k,onChange:e=>I(e.target.value),sx:{minWidth:200},children:[(0,_.jsx)(x.A,{value:"",children:"All Priorities"}),(0,_.jsx)(x.A,{value:"critical",children:"Critical"}),(0,_.jsx)(x.A,{value:"high",children:"High"}),(0,_.jsx)(x.A,{value:"medium",children:"Medium"}),(0,_.jsx)(x.A,{value:"low",children:"Low"})]})}),(0,_.jsx)(u.Ay,{container:!0,spacing:3,children:e.map(e=>(0,_.jsx)(u.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,_.jsx)(A.A,{sx:{height:"100%"},children:(0,_.jsxs)(j.A,{children:[(0,_.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[(0,_.jsx)(s.A,{variant:"h6",component:"div",children:e.title}),(0,_.jsx)(y.A,{icon:F(e.priority),label:e.priority.charAt(0).toUpperCase()+e.priority.slice(1),color:z(e.priority),size:"small"})]}),(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Type: ",e.type.charAt(0).toUpperCase()+e.type.slice(1)]}),(0,_.jsx)(s.A,{variant:"body2",paragraph:!0,children:e.description}),e.predicted_date&&(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Predicted Date: ",new Date(e.predicted_date).toLocaleDateString()]}),e.confidence&&(0,_.jsxs)(a.A,{mt:2,mb:2,children:[(0,_.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[(0,_.jsx)(s.A,{variant:"body2",children:"Confidence"}),(0,_.jsxs)(s.A,{variant:"body2",fontWeight:"bold",children:[Math.round(100*e.confidence),"%"]})]}),(0,_.jsx)(i.A,{variant:"determinate",value:100*e.confidence,color:e.confidence>.8?"success":"warning",sx:{height:6,borderRadius:3}})]}),(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",children:["Created: ",new Date(e.created_at).toLocaleDateString()]}),(0,_.jsx)(a.A,{mt:2,children:(0,_.jsx)(m.A,{variant:"outlined",size:"small",fullWidth:!0,children:"Acknowledge"})})]})})},e.id))}),0===e.length&&(0,_.jsxs)(a.A,{textAlign:"center",py:4,children:[(0,_.jsx)(s.A,{variant:"h6",color:"text.secondary",children:"No maintenance alerts"}),(0,_.jsx)(s.A,{variant:"body2",color:"text.secondary",children:k?"Try changing the filter criteria":"All equipment is running smoothly"})]})]}),1===N&&(0,_.jsxs)(a.A,{children:[(0,_.jsx)(a.A,{display:"flex",justify:"flex-end",mb:3,children:(0,_.jsx)(m.A,{variant:"contained",startIcon:(0,_.jsx)(p.A,{}),onClick:()=>{},children:"New Maintenance Log"})}),(0,_.jsx)(u.Ay,{container:!0,spacing:3,children:n.map(e=>(0,_.jsx)(u.Ay,{item:!0,xs:12,md:6,children:(0,_.jsx)(A.A,{children:(0,_.jsxs)(j.A,{children:[(0,_.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[(0,_.jsxs)(s.A,{variant:"h6",component:"div",children:[e.maintenance_type.charAt(0).toUpperCase()+e.maintenance_type.slice(1)," Maintenance"]}),(0,_.jsx)(y.A,{label:e.status.charAt(0).toUpperCase()+e.status.slice(1),color:W(e.status),size:"small"})]}),(0,_.jsx)(s.A,{variant:"body2",paragraph:!0,children:e.description}),e.cost&&(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Cost: $",e.cost.toLocaleString()]}),e.duration_hours&&(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Duration: ",e.duration_hours," hours"]}),e.parts_replaced&&(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Parts Replaced: ",e.parts_replaced]}),(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Scheduled: ",e.scheduled_date?new Date(e.scheduled_date).toLocaleDateString():"Not scheduled"]}),e.completed_date&&(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Completed: ",new Date(e.completed_date).toLocaleDateString()]}),(0,_.jsxs)(s.A,{variant:"body2",color:"text.secondary",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})})},e.id))}),0===n.length&&(0,_.jsxs)(a.A,{textAlign:"center",py:4,children:[(0,_.jsx)(s.A,{variant:"h6",color:"text.secondary",children:"No maintenance logs"}),(0,_.jsx)(s.A,{variant:"body2",color:"text.secondary",children:"No maintenance activities have been logged yet"})]})]})]})}}}]);
//# sourceMappingURL=184.f2b75ac8.chunk.js.map