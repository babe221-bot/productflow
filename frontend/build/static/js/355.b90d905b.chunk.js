"use strict";(self.webpackChunkproducflow_frontend=self.webpackChunkproducflow_frontend||[]).push([[355],{611:(e,r,t)=>{t.d(r,{A:()=>P});var n=t(8587),a=t(8168),i=t(5043),o=t(8387),s=t(8610),l=t(3290),c=t(7266),d=t(875),h=t(6803),u=t(4535),m=t(8206),x=t(2532),p=t(2372);function A(e){return(0,p.Ay)("MuiLinearProgress",e)}(0,x.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var b=t(579);const f=["className","color","value","valueBuffer","variant"];let j,g,v,y,w,C,S=e=>e;const k=(0,l.i7)(j||(j=S`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),$=(0,l.i7)(g||(g=S`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),q=(0,l.i7)(v||(v=S`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),I=(e,r)=>"inherit"===r?"currentColor":e.vars?e.vars.palette.LinearProgress[`${r}Bg`]:"light"===e.palette.mode?(0,c.a)(e.palette[r].main,.62):(0,c.e$)(e.palette[r].main,.5),D=(0,u.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`color${(0,h.A)(t.color)}`],r[t.variant]]}})(e=>{let{ownerState:r,theme:t}=e;return(0,a.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:I(t,r.color)},"inherit"===r.color&&"buffer"!==r.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===r.variant&&{backgroundColor:"transparent"},"query"===r.variant&&{transform:"rotate(180deg)"})}),L=(0,u.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.dashed,r[`dashedColor${(0,h.A)(t.color)}`]]}})(e=>{let{ownerState:r,theme:t}=e;const n=I(t,r.color);return(0,a.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===r.color&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},(0,l.AH)(y||(y=S`
    animation: ${0} 3s infinite linear;
  `),q)),B=(0,u.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.bar,r[`barColor${(0,h.A)(t.color)}`],("indeterminate"===t.variant||"query"===t.variant)&&r.bar1Indeterminate,"determinate"===t.variant&&r.bar1Determinate,"buffer"===t.variant&&r.bar1Buffer]}})(e=>{let{ownerState:r,theme:t}=e;return(0,a.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===r.color?"currentColor":(t.vars||t).palette[r.color].main},"determinate"===r.variant&&{transition:"transform .4s linear"},"buffer"===r.variant&&{zIndex:1,transition:"transform .4s linear"})},e=>{let{ownerState:r}=e;return("indeterminate"===r.variant||"query"===r.variant)&&(0,l.AH)(w||(w=S`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),k)}),_=(0,u.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.bar,r[`barColor${(0,h.A)(t.color)}`],("indeterminate"===t.variant||"query"===t.variant)&&r.bar2Indeterminate,"buffer"===t.variant&&r.bar2Buffer]}})(e=>{let{ownerState:r,theme:t}=e;return(0,a.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==r.variant&&{backgroundColor:"inherit"===r.color?"currentColor":(t.vars||t).palette[r.color].main},"inherit"===r.color&&{opacity:.3},"buffer"===r.variant&&{backgroundColor:I(t,r.color),transition:"transform .4s linear"})},e=>{let{ownerState:r}=e;return("indeterminate"===r.variant||"query"===r.variant)&&(0,l.AH)(C||(C=S`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),$)}),P=i.forwardRef(function(e,r){const t=(0,m.b)({props:e,name:"MuiLinearProgress"}),{className:i,color:l="primary",value:c,valueBuffer:u,variant:x="indeterminate"}=t,p=(0,n.A)(t,f),j=(0,a.A)({},t,{color:l,variant:x}),g=(e=>{const{classes:r,variant:t,color:n}=e,a={root:["root",`color${(0,h.A)(n)}`,t],dashed:["dashed",`dashedColor${(0,h.A)(n)}`],bar1:["bar",`barColor${(0,h.A)(n)}`,("indeterminate"===t||"query"===t)&&"bar1Indeterminate","determinate"===t&&"bar1Determinate","buffer"===t&&"bar1Buffer"],bar2:["bar","buffer"!==t&&`barColor${(0,h.A)(n)}`,"buffer"===t&&`color${(0,h.A)(n)}`,("indeterminate"===t||"query"===t)&&"bar2Indeterminate","buffer"===t&&"bar2Buffer"]};return(0,s.A)(a,A,r)})(j),v=(0,d.I)(),y={},w={bar1:{},bar2:{}};if("determinate"===x||"buffer"===x)if(void 0!==c){y["aria-valuenow"]=Math.round(c),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let e=c-100;v&&(e=-e),w.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===x)if(void 0!==u){let e=(u||0)-100;v&&(e=-e),w.bar2.transform=`translateX(${e}%)`}else 0;return(0,b.jsxs)(D,(0,a.A)({className:(0,o.A)(g.root,i),ownerState:j,role:"progressbar"},y,{ref:r},p,{children:["buffer"===x?(0,b.jsx)(L,{className:g.dashed,ownerState:j}):null,(0,b.jsx)(B,{className:g.bar1,ownerState:j,style:w.bar1}),"determinate"===x?null:(0,b.jsx)(_,{className:g.bar2,ownerState:j,style:w.bar2})]}))})},7355:(e,r,t)=>{t.r(r),t.d(r,{default:()=>S});var n=t(5043),a=t(6446),i=t(7392),o=t(5865),s=t(611),l=t(4194),c=t(8903),d=t(2110),h=t(6494),u=t(3845),m=t(8606),x=t(4642),p=t(7548),A=t(398),b=t(9662),f=t(579);const j=(0,b.A)((0,f.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var g=t(7805),v=t(3216),y=t(6058),w=t(7304),C=t(6213);w.t1.register(w.PP,w.kc,w.FN,w.No,w.hE,w.m_,w.s$);const S=()=>{const{id:e}=(0,v.g)(),r=(0,v.Zp)(),[t,b]=(0,n.useState)(null),[w,S]=(0,n.useState)([]),[k,$]=(0,n.useState)(!0),[q,I]=(0,n.useState)("");(0,n.useEffect)(()=>{D(),L()},[e]);const D=async()=>{try{const r=await C.A.get(`/equipment/${e}`);b(r.data)}catch(q){console.error("Failed to fetch equipment:",q),I("Failed to load equipment details")}},L=async()=>{try{const r=await C.A.get(`/equipment/${e}/sensors`);S(r.data)}catch(q){console.error("Failed to fetch sensor data:",q),I("Failed to load sensor data")}finally{$(!1)}},B=e=>{switch(e){case"operational":return"success";case"warning":return"warning";case"critical":return"error";case"maintenance":return"info";default:return"default"}},_=e=>e>=80?"success":e>=60?"warning":"error",P=e=>{var r;const t=w.filter(r=>r.sensor_type===e).sort((e,r)=>new Date(e.timestamp)-new Date(r.timestamp)).slice(-20);return{labels:t.map(e=>new Date(e.timestamp).toLocaleTimeString()),datasets:[{label:`${e.charAt(0).toUpperCase()+e.slice(1)} (${(null===(r=t[0])||void 0===r?void 0:r.unit)||""})`,data:t.map(e=>e.value),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1}]}},N={responsive:!0,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!1}}};if(k)return(0,f.jsxs)(a.A,{children:[(0,f.jsxs)(a.A,{display:"flex",alignItems:"center",mb:3,children:[(0,f.jsx)(i.A,{onClick:()=>r("/equipment"),sx:{mr:2},children:(0,f.jsx)(j,{})}),(0,f.jsx)(o.A,{variant:"h4",children:"Equipment Details"})]}),(0,f.jsx)(s.A,{})]});if(q)return(0,f.jsxs)(a.A,{children:[(0,f.jsxs)(a.A,{display:"flex",alignItems:"center",mb:3,children:[(0,f.jsx)(i.A,{onClick:()=>r("/equipment"),sx:{mr:2},children:(0,f.jsx)(j,{})}),(0,f.jsx)(o.A,{variant:"h4",children:"Equipment Details"})]}),(0,f.jsx)(l.A,{severity:"error",children:q})]});if(!t)return(0,f.jsxs)(a.A,{children:[(0,f.jsxs)(a.A,{display:"flex",alignItems:"center",mb:3,children:[(0,f.jsx)(i.A,{onClick:()=>r("/equipment"),sx:{mr:2},children:(0,f.jsx)(j,{})}),(0,f.jsx)(o.A,{variant:"h4",children:"Equipment Details"})]}),(0,f.jsx)(l.A,{severity:"warning",children:"Equipment not found"})]});const M=[...new Set(w.map(e=>e.sensor_type))];return(0,f.jsxs)(a.A,{children:[(0,f.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,f.jsxs)(a.A,{display:"flex",alignItems:"center",children:[(0,f.jsx)(i.A,{onClick:()=>r("/equipment"),sx:{mr:2},children:(0,f.jsx)(j,{})}),(0,f.jsx)(o.A,{variant:"h4",children:t.name})]}),(0,f.jsx)(a.A,{children:(0,f.jsx)(i.A,{onClick:()=>{D(),L()},color:"primary",children:(0,f.jsx)(g.A,{})})})]}),(0,f.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,f.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,f.jsx)(d.A,{children:(0,f.jsxs)(h.A,{children:[(0,f.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Equipment Information"}),(0,f.jsxs)(a.A,{mb:2,children:[(0,f.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Status"}),(0,f.jsx)(u.A,{icon:(e=>{switch(e){case"operational":return(0,f.jsx)(m.A,{});case"warning":return(0,f.jsx)(x.A,{});case"critical":return(0,f.jsx)(p.A,{});case"maintenance":return(0,f.jsx)(A.A,{});default:return null}})(t.status),label:t.status.charAt(0).toUpperCase()+t.status.slice(1),color:B(t.status),sx:{mt:.5}})]}),(0,f.jsxs)(a.A,{mb:2,children:[(0,f.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Type"}),(0,f.jsx)(o.A,{variant:"body1",children:t.type})]}),(0,f.jsxs)(a.A,{mb:2,children:[(0,f.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Location"}),(0,f.jsx)(o.A,{variant:"body1",children:t.location})]}),(0,f.jsxs)(a.A,{mb:2,children:[(0,f.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Capacity"}),(0,f.jsxs)(o.A,{variant:"body1",children:[t.capacity," units/hour"]})]}),(0,f.jsxs)(a.A,{mb:2,children:[(0,f.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Installation Date"}),(0,f.jsx)(o.A,{variant:"body1",children:t.installation_date?new Date(t.installation_date).toLocaleDateString():"Not specified"})]}),(0,f.jsxs)(a.A,{mb:2,children:[(0,f.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Last Maintenance"}),(0,f.jsx)(o.A,{variant:"body1",children:t.last_maintenance?new Date(t.last_maintenance).toLocaleDateString():"Never"})]}),(0,f.jsxs)(a.A,{mt:3,children:[(0,f.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[(0,f.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"Health Score"}),(0,f.jsxs)(o.A,{variant:"h6",color:`${_(t.health_score)}.main`,children:[t.health_score,"%"]})]}),(0,f.jsx)(s.A,{variant:"determinate",value:t.health_score,color:_(t.health_score),sx:{height:10,borderRadius:5}})]})]})})}),(0,f.jsx)(c.Ay,{item:!0,xs:12,md:8,children:(0,f.jsx)(c.Ay,{container:!0,spacing:2,children:M.map(e=>(0,f.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,f.jsx)(d.A,{children:(0,f.jsxs)(h.A,{children:[(0,f.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:[e.charAt(0).toUpperCase()+e.slice(1)," Sensor"]}),(0,f.jsx)(a.A,{sx:{height:250},children:(0,f.jsx)(y.N1,{data:P(e),options:N})})]})})},e))})}),(0,f.jsx)(c.Ay,{item:!0,xs:12,children:(0,f.jsx)(d.A,{children:(0,f.jsxs)(h.A,{children:[(0,f.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Recent Sensor Readings"}),(0,f.jsx)(a.A,{sx:{overflowX:"auto"},children:(0,f.jsxs)(a.A,{component:"table",sx:{width:"100%",minWidth:650},children:[(0,f.jsx)(a.A,{component:"thead",children:(0,f.jsxs)(a.A,{component:"tr",children:[(0,f.jsx)(a.A,{component:"th",sx:{p:1,textAlign:"left",fontWeight:"bold"},children:"Sensor Type"}),(0,f.jsx)(a.A,{component:"th",sx:{p:1,textAlign:"left",fontWeight:"bold"},children:"Value"}),(0,f.jsx)(a.A,{component:"th",sx:{p:1,textAlign:"left",fontWeight:"bold"},children:"Unit"}),(0,f.jsx)(a.A,{component:"th",sx:{p:1,textAlign:"left",fontWeight:"bold"},children:"Status"}),(0,f.jsx)(a.A,{component:"th",sx:{p:1,textAlign:"left",fontWeight:"bold"},children:"Timestamp"})]})}),(0,f.jsx)(a.A,{component:"tbody",children:w.slice(0,10).map(e=>(0,f.jsxs)(a.A,{component:"tr",children:[(0,f.jsx)(a.A,{component:"td",sx:{p:1},children:e.sensor_type.charAt(0).toUpperCase()+e.sensor_type.slice(1)}),(0,f.jsx)(a.A,{component:"td",sx:{p:1},children:e.value}),(0,f.jsx)(a.A,{component:"td",sx:{p:1},children:e.unit}),(0,f.jsx)(a.A,{component:"td",sx:{p:1},children:(0,f.jsx)(u.A,{label:e.status,color:B(e.status),size:"small"})}),(0,f.jsx)(a.A,{component:"td",sx:{p:1},children:new Date(e.timestamp).toLocaleString()})]},e.id))})]})})]})})})]})]})}}}]);
//# sourceMappingURL=355.b90d905b.chunk.js.map