"use strict";(self.webpackChunkproducflow_frontend=self.webpackChunkproducflow_frontend||[]).push([[72],{1901:(e,t,n)=>{n.d(t,{ZV:()=>i,l9:()=>a,r6:()=>s,vv:()=>r});const r=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e)},a=function(e){return`${i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}%`},s=e=>{const t="string"===typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}},2796:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(9662),i=n(579);const a=(0,r.A)((0,i.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp")},7072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var r=n(5043),i=n(6446),a=n(5865),s=n(8903),o=n(2110),l=n(6494),c=n(8587),d=n(8168),h=n(8387),u=n(3290),m=n(8610);function x(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function p(e){return parseFloat(e)}var A=n(7868),f=n(1188);function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,f.A)(e,t,n)}function g(e){if(e.type)return e;if("#"===e.charAt(0))return g(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,A.A)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,A.A)(10,r))}else i=i.split(",");return i=i.map(e=>parseFloat(e)),{type:n,values:i,colorSpace:r}}function y(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function b(e,t){return e=g(e),t=v(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,y(e)}var j=n(4535),w=n(8206),S=n(2532),C=n(2372);function $(e){return(0,C.Ay)("MuiSkeleton",e)}(0,S.A)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var k=n(579);const I=["animation","className","component","height","style","variant","width"];let R,_,M,D,F=e=>e;const q=(0,u.i7)(R||(R=F`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),O=(0,u.i7)(_||(_=F`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),B=(0,j.Ay)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(e=>{let{theme:t,ownerState:n}=e;const r=x(t.shape.borderRadius)||"px",i=p(t.shape.borderRadius);return(0,d.A)({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:b(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em"},"text"===n.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${i}${r}/${Math.round(i/.6*10)/10}${r}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===n.variant&&{borderRadius:"50%"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},n.hasChildren&&{"& > *":{visibility:"hidden"}},n.hasChildren&&!n.width&&{maxWidth:"fit-content"},n.hasChildren&&!n.height&&{height:"auto"})},e=>{let{ownerState:t}=e;return"pulse"===t.animation&&(0,u.AH)(M||(M=F`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),q)},e=>{let{ownerState:t,theme:n}=e;return"wave"===t.animation&&(0,u.AH)(D||(D=F`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),O,(n.vars||n).palette.action.hover)}),N=r.forwardRef(function(e,t){const n=(0,w.b)({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:i,component:a="span",height:s,style:o,variant:l="text",width:u}=n,x=(0,c.A)(n,I),p=(0,d.A)({},n,{animation:r,component:a,variant:l,hasChildren:Boolean(x.children)}),A=(e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:a,height:s}=e,o={root:["root",n,r,i&&"withChildren",i&&!a&&"fitContent",i&&!s&&"heightAuto"]};return(0,m.A)(o,$,t)})(p);return(0,k.jsx)(B,(0,d.A)({as:a,ref:t,className:(0,h.A)(A.root,i),ownerState:p},x,{style:(0,d.A)({width:u,height:s},o)}))});var z=n(4194),E=n(3845),T=n(8606),U=n(4642),L=n(7548),P=n(398),V=n(2796);const X=(0,n(9662).A)((0,k.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney");var H=n(8009),K=n(1901);const W=()=>{const{data:e,isLoading:t,error:n,dataUpdatedAt:r}=(0,H.es)();if(t)return(0,k.jsxs)(i.A,{children:[(0,k.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,k.jsx)(s.Ay,{container:!0,spacing:3,sx:{mt:2},children:[1,2,3,4].map(e=>(0,k.jsx)(s.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,k.jsx)(o.A,{children:(0,k.jsxs)(l.A,{children:[(0,k.jsx)(N,{variant:"text",width:"60%"}),(0,k.jsx)(N,{variant:"text",height:40,width:"80%"}),(0,k.jsx)(N,{variant:"text",width:"40%"})]})})},e))})]});if(n)return(0,k.jsxs)(i.A,{children:[(0,k.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,k.jsx)(z.A,{severity:"error",children:"Failed to load dashboard data. Please try refreshing the page."})]});if(!e)return null;const c=[{title:"Equipment Status",items:[{label:"Operational",value:e.operational_equipment,color:"success",icon:(0,k.jsx)(T.A,{})},{label:"Warning",value:e.warning_equipment,color:"warning",icon:(0,k.jsx)(U.A,{})},{label:"Critical",value:e.critical_equipment,color:"error",icon:(0,k.jsx)(L.A,{})},{label:"Maintenance",value:e.maintenance_equipment,color:"info",icon:(0,k.jsx)(P.A,{})}],color:"success"},{title:"Production Efficiency",value:(0,K.l9)(e.production_efficiency),icon:(0,k.jsx)(V.A,{}),color:e.production_efficiency>=90?"success":"warning",subtitle:e.production_efficiency>=90?"Above target threshold":"Below target"},{title:"Active Alerts",value:e.active_alerts,icon:(0,k.jsx)(U.A,{}),color:e.active_alerts>0?"warning":"success",subtitle:e.active_alerts>0?"Requiring attention":"All clear"},{title:"Cost Savings",value:(0,K.vv)(e.cost_savings),icon:(0,k.jsx)(X,{}),color:"success",subtitle:"This month"}];return(0,k.jsxs)(i.A,{children:[(0,k.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:"Dashboard"}),(0,k.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,k.jsx)(a.A,{variant:"subtitle1",color:"text.secondary",children:"Real-time overview of your manufacturing operations"}),(0,k.jsxs)(a.A,{variant:"caption",color:"text.secondary",children:["Last updated: ",(0,K.r6)(new Date(r))]})]}),(0,k.jsx)(s.Ay,{container:!0,spacing:3,sx:{mt:2},children:c.map((e,t)=>(0,k.jsx)(s.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,k.jsx)(o.A,{sx:{height:"100%",position:"relative"},children:(0,k.jsxs)(l.A,{children:[(0,k.jsxs)(i.A,{display:"flex",alignItems:"center",mb:2,children:[e.icon&&(0,k.jsx)(i.A,{sx:{mr:2,color:`${e.color}.main`},children:e.icon}),(0,k.jsx)(a.A,{variant:"h6",component:"div",children:e.title})]}),e.items?(0,k.jsx)(i.A,{children:e.items.map((e,t)=>(0,k.jsxs)(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[(0,k.jsxs)(i.A,{display:"flex",alignItems:"center",children:[(0,k.jsx)(i.A,{sx:{mr:1,color:`${e.color}.main`,fontSize:"1rem"},children:e.icon}),(0,k.jsx)(a.A,{variant:"body2",children:e.label})]}),(0,k.jsx)(E.A,{label:e.value,color:e.color,size:"small"})]},t))}):(0,k.jsxs)(i.A,{children:[(0,k.jsx)(a.A,{variant:"h4",color:`${e.color}.main`,children:e.value}),e.subtitle&&(0,k.jsx)(a.A,{variant:"body2",color:"text.secondary",children:e.subtitle})]})]})})},t))}),(0,k.jsxs)(s.Ay,{container:!0,spacing:3,sx:{mt:3},children:[(0,k.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,k.jsx)(o.A,{children:(0,k.jsxs)(l.A,{children:[(0,k.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Recent Activity"}),(0,k.jsxs)(i.A,{children:[(0,k.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"\u2022 Equipment health check completed for CNC Machine #2"}),(0,k.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"\u2022 Maintenance alert generated for Robotic Arm #3"}),(0,k.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"\u2022 Production efficiency target achieved for Floor A"}),(0,k.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"\u2022 Sensor calibration scheduled for next week"})]})]})})}),(0,k.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,k.jsx)(o.A,{children:(0,k.jsxs)(l.A,{children:[(0,k.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"System Status"}),(0,k.jsxs)(i.A,{children:[(0,k.jsxs)(i.A,{display:"flex",justifyContent:"space-between",mb:1,children:[(0,k.jsx)(a.A,{variant:"body2",children:"API Status"}),(0,k.jsx)(E.A,{label:"Online",color:"success",size:"small"})]}),(0,k.jsxs)(i.A,{display:"flex",justifyContent:"space-between",mb:1,children:[(0,k.jsx)(a.A,{variant:"body2",children:"Database"}),(0,k.jsx)(E.A,{label:"Connected",color:"success",size:"small"})]}),(0,k.jsxs)(i.A,{display:"flex",justifyContent:"space-between",mb:1,children:[(0,k.jsx)(a.A,{variant:"body2",children:"Sensor Network"}),(0,k.jsx)(E.A,{label:"Active",color:"success",size:"small"})]}),(0,k.jsxs)(i.A,{display:"flex",justifyContent:"space-between",children:[(0,k.jsx)(a.A,{variant:"body2",children:"Last Sync"}),(0,k.jsx)(a.A,{variant:"body2",color:"text.secondary",children:(0,K.r6)(new Date(r))})]})]})]})})})]})]})}},8009:(e,t,n)=>{n.d(t,{c9:()=>a,es:()=>s});var r=n(6931),i=n(6291);const a=()=>(0,r.I)({queryKey:["productionMetrics"],queryFn:i.oA.getProductionMetrics,staleTime:6e4}),s=()=>(0,r.I)({queryKey:["dashboardSummary"],queryFn:i.oA.getDashboardSummary,staleTime:3e4,refetchInterval:3e4})}}]);
//# sourceMappingURL=72.75e0516a.chunk.js.map